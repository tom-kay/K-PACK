<?xml version="1.0" encoding="utf-8"?>
<SmartSqlMap Scope="CodeMng" xmlns="http://SmartSql.net/schemas/SmartSqlMap.xsd">
	<Statements>
		<Statement Id="selectCodeMasterList">
			SELECT * 
			FROM TB_CODEMASTER
			WHERE `Code` Like Concat('%', @Code,'%')
				AND `Name` Like Concat('%', @Name, '%')
		</Statement>

		<Statement Id="selectCodeMaster">
			SELECT *
			FROM TB_CODEMASTER
			WHERE `Code` = @Code
		</Statement>

		<Statement Id="insertCodeMaster" resultMap="">
			INSERT INTO TB_CODEMASTER
			(
			`Code`,
			`Name`,
			`UseYn`,
			`CreateDt`,
			`UpdateDt`
			)
			VALUES
			(
			@Code,
			@Name,
			@UseYn,
			now(),
			now()
			)
			ON DUPLICATE KEY UPDATE
			`Name` = @Name,
			`UseYn` = @UseYn,
			`UpdateDt` = now();
			
			SELECT IFNULL(@CODE,'') AS Code;
			
		</Statement>
		

		<Statement Id="deleteCodeMaster" >
			UPDATE TB_CODEMASTER
			SET
			`DelYn` = @DelYn,
			`DeleteDt` = now()
			WHERE `Code` = @Code;
		</Statement>
	</Statements>
</SmartSqlMap>